<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <meta name="author" content="Jordi Mateo Forn√©s">
  <title>SO - Fall 2025 ‚Äì Kernel de Linux</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-534cd8e3a96973385dffff3f4709048d.css">
  <link rel="stylesheet" href="styles.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Kernel de Linux</h1>
  <p class="subtitle">Unitat 2 ¬∑ Sistemes Operatius (SO)</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jordi Mateo Forn√©s 
</div>
</div>
</div>

</section>
<section id="qu√®-√©s-el-nucli-dun-sistema-operatiu" class="slide level2 smaller">
<h2>Qu√® √©s el nucli d‚Äôun sistema operatiu?</h2>
<p>El nucli del <strong>SO</strong> √©s la capa m√©s cr√≠tica i cont√© les rutines de gesti√≥ del sistema relacionades amb els recursos f√≠sic. Es troba sempre carregat a la Mem√≤ria.</p>
<h4 id="funcionalitats-del-nucli">Funcionalitats del nucli</h4>
<ul>
<li class="fragment">El nucli t√© la capacitat d‚Äôassignar i desassignar la CPU als usuaris i processos per evitar que acaparin el recurs de forma ininterrompuda.</li>
<li class="fragment">El nucli evita que els usuaris i processos accedeixin a dades d‚Äôaltres usuaris.</li>
<li class="fragment">El nucli evita els usuaris modif√≠quin el codi i les dades del nucli.</li>
<li class="fragment">El nucli evita que els usuaris realitzin E/S il¬∑legals.</li>
</ul>
</section>
<section id="qu√©-√©s-la-dualitat" class="slide level2 smaller">
<h2>Qu√© √©s la dualitat?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h4 id="mode-kernel">Mode kernel</h4>
<ul>
<li class="fragment">El codi que s‚Äôexecuta en aquest mode t√© acc√©s a qualsevol adre√ßa de Mem√≤ria i a tots els recursos hardware.</li>
<li class="fragment">Si un programa falla en aquest mode, tot el sistema quedar√† aturat.</li>
</ul>
<h4 id="mode-usuari">Mode usuari</h4>
<ul>
<li class="fragment">El codi no t√© acc√©s directe a Mem√≤ria ni als recursos hardware.</li>
<li class="fragment">Si un programa falla en aquest mode, √∫nicament atura el programa i no el sistema.</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="../figures/slides/01-introduction/esquema2.png"></p>
</div></div>
</section>
<section id="repte-separaci√≥-de-responsabilitats" class="slide level2 smaller">
<h2>Repte: Separaci√≥ de responsabilitats</h2>
<div class="center-container">
<p>Quina √©s la millor manera d‚Äôorganitzar/separar totes les parts del sistema operatiu?</p>
</div>
<ul>
<li class="fragment">Com <strong>organitzem</strong> les parts?</li>
<li class="fragment"><strong>Definici√≥ de pol√≠tiques</strong>: Quines seran les accions a realitzar.</li>
<li class="fragment">Com <strong>cooperen</strong> les parts?</li>
<li class="fragment"><strong>Mecanismes</strong>: Com es duran a terme aquestes accions.</li>
</ul>
<div class="fragment">
<h4 id="classificaci√≥-estructura-interna">Classificaci√≥ (Estructura Interna)</h4>
<ol type="1">
<li class="fragment">Monol√≠tics</li>
<li class="fragment">Capes</li>
<li class="fragment">Micro-kernel</li>
<li class="fragment">H√≠brids</li>
<li class="fragment">Hypervisors</li>
</ol>
</div>
</section>
<section id="estructura-simple" class="slide level2 smaller">
<h2>Estructura simple</h2>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="caracter√≠stiques">Caracter√≠stiques</h3>
<ul>
<li class="fragment">Estructura no ben definida.</li>
<li class="fragment">El <strong>SO</strong> √©s un conjunt de procediments que es poden cridar sense cap limitaci√≥.</li>
<li class="fragment">Son sistemes complexos; dif√≠cil d‚Äôimplementar i de depurar.</li>
<li class="fragment">No tenen mode <strong>dual</strong>.</li>
<li class="fragment">Exemple: MS-DOS</li>
</ul>
</div><div class="column" style="width:45%;">
<div class="center">
<p><img data-src="../figures/slides/02-kernel/kernel-msdos.png"></p>
</div>
</div></div>
<aside class="notes">
<p>Els sistemes operatius com MS-DOS o Unix (original) no tenien estructures ben definides.</p>
<p>No hi havia cap mode d‚Äôexecuci√≥ de la CPU (usuari i nucli), de manera que els errors en les aplicacions podrien provocar un bloqueig de tot el sistema.</p>
<p>Quan es va escriure DOS originalment, els seus desenvolupadors no tenien ni idea de quant de gran i important esdevindria. Va ser escrit per uns quants programadors en un temps relativament curt, sense el benefici de les t√®cniques modernes d‚Äôenginyeria de programari, i despr√©s va anar creixent amb el pas del temps fins a superar les seves expectatives originals. No divideix el sistema en subsistemes i no distingeix entre modes d‚Äôusuari i nucli, cosa que permet a tots els programes accedir directament al maquinari subjacent.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estructura-monol√≠tica" class="slide level2 smaller">
<h2>Estructura Monol√≠tica</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Els serveis d‚Äôusuari i serveis del kernel s‚Äôimplementen sota el mateix espai d‚Äôadreces.</p>
<div class="center">
<p><img data-src="../figures/slides/02-kernel/kernel-monolitic.png"></p>
</div>
</div><div class="column" style="width:45%;">
<ul>
<li class="fragment">üëç Les funcionalitats (serveis) s‚Äôinvoquen amb crides al sistema.</li>
<li class="fragment">üëç Els controladors de dispositius es carreguen al nucli i passen a formar part del nucli.</li>
<li class="fragment">üëé Dif√≠cil d‚Äôentendre, modificar i mantenir.</li>
<li class="fragment">üëé Poc fiable (sense a√Øllament entre els m√≤duls del sistema)</li>
</ul>
</div></div>
</section>
<section id="estructura-per-capes" class="slide level2 smaller">
<h2>Estructura per capes</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="../figures/slides/02-kernel/layered-kernel.png"></p>
</div><div class="column" style="width:40%;">
<ul>
<li class="fragment">üëç Independ√®ncia entre les capes.</li>
<li class="fragment">üëç Permet descriure el <strong>SO</strong> de forma clara.</li>
<li class="fragment">üëç Simplicitat en la construcci√≥ i depuraci√≥.</li>
<li class="fragment">üëé Rendiment.</li>
<li class="fragment">üëé √âs dif√≠cil definir les capes a causa de les limitacions per comunicar-se.</li>
</ul>
</div></div>
<aside class="notes">
<p>Un exemple √©s UNIX, aquest sistema operatiu, creat per Dennis Ritchie i Ken Thompson als anys 70, va adoptar una arquitectura en capes m√©s simple que Multics. Aquestes capes s√≥n: Hardware, Kernel, Shell i Aplicacions. Un exemple √©s: NetBSD.</p>
<p>Permet que cada anell tingui un conjunt de funcions i responsabilitats clarament definides, i que cada anell pugui comunicar-se amb els anells adja√ßents.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estructura-microkernel" class="slide level2 smaller">
<h2>Estructura Microkernel</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li class="fragment"><p>Els serveis d‚Äôusuari i serveis del kernel s‚Äôimplementi en diferents espais d‚Äôadreces.</p></li>
<li class="fragment"><p>Comunicaci√≥ entre els m√≤duls utilitza el pas de missatges.</p></li>
<li class="fragment"><p>üëç El kernel t√© una mida m√©s redu√Øda.</p></li>
<li class="fragment"><p>üëç Portable, segur, fiable i extensible.</p></li>
<li class="fragment"><p>üëé Reducci√≥ de la velocitat d‚Äôexecuci√≥ i del rendiment.</p></li>
</ul>
</div><div class="column" style="width:45%;">
<div class="center">
<p><img data-src="../figures/slides/02-kernel/microkernel.png"></p>
</div>
</div></div>
<aside class="notes">
<p>El sistema operatiu MacOS, desenvolupat per Apple, va aprofitar l‚Äôestabilitat i seguretat del nucli Mach com a base per al seu sistema operatiu. En aquest sistema, serveis com la gesti√≥ de mem√≤ria, la gesti√≥ de fitxers i la xarxa es van traslladar fora del nucli, a servidors externs, millorant la estabilitat, fiabilitat i modularitat del sistema.</p>
<p>Sistemes en temps real com QNX, o dispotius encastats poden utilitzar aquesta arquitectura.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="microkernel-vs-monol√≠tic" class="slide level2">
<h2>Microkernel vs Monol√≠tic</h2>
<div class="center-container">
<p><img data-src="../figures/slides/02-kernel/theory/Microkernel-Vs-Monolithic-Kernel.png" style="width:80.0%"></p>
</div>
<aside class="notes">
<p>El <strong>microkernel</strong> √©s m√©s <em>lent</em> per√≤ m√©s <em>segur i fiable</em> que el nucli <strong>monol√≠tic</strong>. El nucli <strong>monol√≠tic</strong> √©s <em>r√†pid</em> per√≤ menys <em>segur</em>, ja que qualsevol fallada del servei pot causar un bloqueig del sistema.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="microkernel-vs-monol√≠tic-vs-h√≠brids" class="slide level2">
<h2>Microkernel vs Monol√≠tic vs H√≠brids</h2>
<div class="center-container">
<p><img data-src="../figures/slides/02-kernel/theory/hibrids.png"></p>
</div>
</section>
<section id="opini√≥-sobre-els-h√≠brids" class="slide level2 smaller">
<h2>Opini√≥ sobre els h√≠brids</h2>
<p>Molts experts en sistemes operatius consideren que el terme <strong>h√≠brid</strong> √©s un terme de m√†rqueting m√©s que una categoria t√®cnica clara. Aquest terme s‚Äôutilitza sovint per descriure sistemes operatius que combinen elements de nuclis monol√≠tics i microkernel, per√≤ la seva definici√≥ exacta pot variar segons l‚Äô√∫s i la interpretaci√≥.</p>
<blockquote>
<p>‚ÄúAs to the whole ‚Äòhybrid kernel‚Äô thing - it‚Äôs just marketing. It‚Äôs ‚Äòoh, those microkernels had good PR, how can we try to get good PR for our working kernel? Oh, I know, let‚Äôs use a cool name and try to imply that it has all the PR advantages that that other system has‚Äô - Linus Torvalds</p>
</blockquote>
</section>
<section id="kernel-modular" class="slide level2">
<h2>Kernel Modular</h2>
<div class="definition-box">
<p>El serveis (<em>core</em>) estan integrats al kernel, la resta es poden carregar i descarregar de forma din√†mica.</p>
</div>
<ul>
<li class="fragment">No cal reiniciar per afegir nous m√≤duls.</li>
<li class="fragment">No cal implementar mecanismes de pas de missatges com en els microkernels.</li>
<li class="fragment">Qualsevol m√≤dul pot comunicar-se amb qualsevol altre.</li>
</ul>
<div class="center-container">
<p><img data-src="../figures/slides/02-kernel/modular-kernel.png" style="width:60.0%"></p>
</div>
<aside class="notes">
<p>Els sistemes operatius modulars com la majoria de sistemes operatius monol√≠tics moderns com Linux, BSD, poden carregar (i descarregar) din√†micament m√≤duls executables en temps d‚Äôexecuci√≥.</p>
<p>Aquesta modularitat del sistema operatiu √©s a nivell binari (imatge) i no a nivell d‚Äôarquitectura.</p>
<p>Pr√†cticament, carregar m√≤duls din√†micament √©s simplement una manera m√©s flexible de manejar la imatge del sistema operatiu en temps d‚Äôexecuci√≥, en lloc de reiniciar-lo amb una imatge diferent del sistema operatiu.</p>
<p>Els m√≤duls permeten ampliar f√†cilment les capacitats dels sistemes operatius segons sigui necessari.</p>
<p>Els m√≤duls que es poden carregar din√†micament comporten una petita sobrec√†rrega en comparaci√≥ amb la incorporaci√≥ del m√≤dul a la imatge del sistema operatiu.</p>
<p>Tanmateix, en alguns casos, carregar m√≤duls din√†micament (segons calgui) ajuda a mantenir la quantitat de codi que s‚Äôexecuta a l‚Äôespai del nucli al m√≠nim; per exemple, per minimitzar la petjada del sistema operatiu per a dispositius incrustats o aquells amb recursos de maquinari limitats. √âs a dir, no cal que un m√≤dul descarregat s‚Äôemmagatzemi en mem√≤ria d‚Äôacc√©s aleatori esc√†s.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="monol√≠tic-i-modular" class="slide level2">
<h2>Monol√≠tic i Modular</h2>
<ul>
<li class="fragment">Els kernels monol√≠tics poden ser modulars.</li>
<li class="fragment">Els m√≤duls es carreguen i descarreguen din√†micament en temps d‚Äôexecuci√≥.</li>
<li class="fragment">Els components es poden activar o desactivar en temps de compilaci√≥.</li>
<li class="fragment">El kernel s‚Äôorganitza en subsistemes l√≤gics independents.</li>
<li class="fragment">Interf√≠cies estrictes per√≤ amb baix cost en rendiment: macros, funcions en l√≠nia, punters a funcions.</li>
</ul>
</section>
<section id="exemple-linux" class="slide level2 smaller">
<h2>Exemple: Linux</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="definition-box">
<p>El nucli Linux √©s un dels projectes de codi obert m√©s grans del m√≥n, amb milers de desenvolupadors que aporten codi i milions de l√≠nies de codi canviats per a cada versi√≥.</p>
</div>
<ul>
<li class="fragment">Arquitectura <strong>Monol√≠tica</strong> h√≠brida basada en m√≤duls.
<ul>
<li class="fragment">Enlla√ßat din√†mic.</li>
<li class="fragment">M√≤duls apilables.</li>
</ul></li>
<li class="fragment">Disseny orientat a objectes.</li>
<li class="fragment">Suport per a m√∫ltiples fils d‚Äôexecuci√≥.</li>
<li class="fragment">Suport per processament m√∫ltiple sim√®tric.</li>
<li class="fragment">Abstracci√≥ hardware.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="center">
<p><img data-src="../figures/slides/02-kernel/theory/cas-linux.png"></p>
</div>
</div></div>
<aside class="notes">
<p>Es distribueix sota la llic√®ncia GPLv2, que simplement esmenta, requereix que qualsevol modificaci√≥ del nucli feta amb el programari que s‚Äôenvia al client s‚Äôhagi de posar a la seva disposici√≥ (els clients), tot i que a la pr√†ctica la majoria de les empreses posen el codi font a disposici√≥ del p√∫blic.</p>
<p>Per tal d‚Äôescalar el proc√©s de desenvolupament, Linux utilitza un model de manteniment jer√†rquic:</p>
<p>Linus Torvalds √©s el mantenidor del nucli Linux i fa merge dels <strong>pull requests</strong> de la comunitat.</p>
<p>La comunitat t√© un o m√©s mantenidors que accepten <em>patches</em> de desenvolupadors, mantenint el seu propi arbre git.</p>
<ul>
<li>Linux Torvalds: <a href="git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git">git</a></li>
<li>David Miller (treball en xarxa): <a href="git.kernel.org/pub/scm/linux/kernel/git/davem/net.git/">git</a></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="hypervisors" class="slide level2 smaller">
<h2>Hypervisors</h2>
<ul>
<li class="fragment">Capa fina sobre el maquinari</li>
<li class="fragment">Sistemes host dins m√†quines virtuals</li>
<li class="fragment">Normalment requereixen caracter√≠stiques de maquinari (p.e. Intel VT-x)</li>
</ul>
<div class="center-container">
<p><img data-src="../figures/slides/02-kernel/theory/mvs.png" style="width:60.0%"></p>
</div>
</section>
<section id="hypervisors-1" class="slide level2 smaller">
<h2>Hypervisors</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">KVM √©s un m√≤dul del kernel Linux que permet la virtualitzaci√≥ a trav√©s d‚Äôun sistema host.</li>
<li class="fragment">XEN √©s un hypervisor de codi obert que permet la virtualitzaci√≥ directa del maquinari.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="../figures/slides/02-kernel/xen-kvm.png" style="width:80.0%"></p>
</div></div>
</section>
<section id="exokernels" class="slide level2 smaller">
<h2>Exokernels</h2>
<div class="center-container">
<p>Cada m√†quina virtual disposa d‚Äôun exokernel que exporta directament els recursos f√≠sics.</p>
</div>
<ul>
<li class="fragment">No implementa abstraccions altes (fitxers, sockets, processos), sin√≥ que ofereix primitives de baix nivell (p.&nbsp;ex. blocs de disc, p√†gines de mem√≤ria, l√≠nies de CPU).</li>
<li class="fragment">Nom√©s valida i arbitra l‚Äô√∫s dels recursos, delegant la seva gesti√≥ a biblioteques d‚Äôusuari.</li>
<li class="fragment">Mou la multiprogramaci√≥ a l‚Äôespai d‚Äôusuari, com la planificaci√≥, la gesti√≥ de mem√≤ria i la comunicaci√≥ entre processos (IPC).</li>
<li class="fragment">ü§è Els exokernels s√≥n tan petits que poden ser incorporats dins aplicacions espec√≠fiques (p.&nbsp;ex. control de tr√†nsit urb√†).</li>
<li class="fragment">‚ú® minimitza l‚Äôoverhead i dona flexibilitat en la gesti√≥ de recursos.</li>
</ul>
<div class="center-container fragment">
<p>üëâ No es traslladen instruccions de mode kernel a mode usuari, sin√≥ la l√≤gica de gesti√≥ de recursos.</p>
</div>
<aside class="notes">
<p>Imaginem que particionem una m√†quina en diferents m√†quines virtuals amb un subconjunt de recursos. Cada m√†quina virtual t√© un exokernel que li permet accedir directament als recursos de la m√†quina f√≠sica. La idea √©s reduir el overhead del sistema separant la multiprogramaci√≥ de les funcions del sistema operatiu en l‚Äôespai usuari.</p>
<p>En aquest cas no estem movent instruccions de mode kernel a mode usuari, sin√≥ que estem movent la gesti√≥ de recursos del sistema operatiu a l‚Äôespai d‚Äôusuari. De fet, els exokernels s√≥n tan petits que poden ser incrustats en aplicacions espec√≠fiques. Per exemple, un exokernel podria ser incrustat en una aplicaci√≥ de control de tr√†nsit per coordinar els sem√†fors d‚Äôuna ciutat.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="unikernels" class="slide level2 smaller">
<h2>Unikernels</h2>
<div class="center-container fragment">
<p>Els unikernels empaqueten aplicaci√≥ + m√≠nim sistema operatiu en una √∫nica imatge executable sobre un hipervisor o hardware.</p>
</div>
<ul>
<li class="fragment">Nom√©s s‚Äôinclouen les llibreries i serveis estrictament necessaris per l‚Äôaplicaci√≥.</li>
<li class="fragment">Execuci√≥ directa: corren sobre un hipervisor o hardware, sense cap OS d‚Äôhost per sota.</li>
<li class="fragment">Efici√®ncia: imatges extremadament petites, r√†pides d‚Äôarrencar.</li>
<li class="fragment">Inspiraci√≥:
<ul>
<li class="fragment">Dels contenidors, per√≤ sense dependre d‚Äôun kernel complet subjacent.</li>
<li class="fragment">Dels exokernels, per√≤ aqu√≠ les primitives exposades no s√≥n per al maquinari, sin√≥ per a les necessitats espec√≠fiques de l‚Äôaplicaci√≥.</li>
</ul></li>
<li class="fragment">S‚Äôutilitzen en IoT, serveis cloud lleugers, entorns on importen temps d‚Äôarrencada i seguretat.</li>
</ul>
<div class="center-container fragment">
<p>El codi de l‚Äôaplicaci√≥ i el kernel formen una sola unitat optimitzada.</p>
</div>
<aside class="notes">
<p>Els unikernels s√≥n una forma de sistema operatiu que empaqueta tot el codi necessari per a una aplicaci√≥ en un sol paquet. Aquest paquet s‚Äôexecuta directament sobre una m√†quina virtual o un hipervisor, sense cap sistema operatiu subministrat. Aix√≤ permet als unikernels ser molt petits i molt eficients, ja que no hi ha cap codi innecessari.</p>
<p>S‚Äôinspiren en els contenidors, per√≤ en lloc d‚Äôexecutar-se en un sistema operatiu complet, s‚Äôexecuten directament sobre el hardware. Aix√≤ els fa molt m√©s petits i molt m√©s eficients que els contenidors, ja que no hi ha cap sistema operatiu subministrat.</p>
<p>S‚Äôinspiren en els exokernels, per√≤ en lloc de proporcionar un conjunt de primitives de baix nivell per accedir directament als recursos de la m√†quina, proporcionen un conjunt de primitives de baix nivell per accedir directament als recursos de l‚Äôaplicaci√≥.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="aix√≤-√©s-tot-per-avui" class="slide level2 smaller">
<h2>Aix√≤ √©s tot per avui</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h4 id="take-home-message">TAKE HOME MESSAGE</h4>
<ul>
<li class="fragment">Els monol√≠tics ofereixen velocitat per√≤ fragilitat.</li>
<li class="fragment">Els microkernels aposten per modularitat i seguretat a costa de lat√®ncia.</li>
<li class="fragment">Els modulars permeten cr√©ixer sense reescriure tot el nucli.</li>
<li class="fragment">Els exokernels lliuren el control directe a l‚Äôaplicaci√≥ per m√†xima efici√®ncia.</li>
<li class="fragment">Els hipervisors faciliten la conviv√®ncia d‚Äôecosistemes sencers sobre un mateix hardware.</li>
<li class="fragment">Els unikernels empaqueten aplicaci√≥ i SO per a desplegaments ultralleugers i segurs.</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="https://static.posters.cz/image/750/posters/looney-tunes-thats-all-folks-i295.jpg"></p>
</div></div>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../figures/corporative/institute.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Unitat 2 ¬∑ Sistemes Operatius (SO) <a href="../index.html">üè†</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/os-gei-udl-2526-105012\.github\.io\/course\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>